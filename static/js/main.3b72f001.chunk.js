(this.webpackJsonpweatherly=this.webpackJsonpweatherly||[]).push([[0],{63:function(e,t,a){},91:function(e){e.exports=JSON.parse('[{"LocalObservationDateTime":"2021-05-19T22:26:00+03:00","EpochTime":1621452360,"WeatherText":"Clear","WeatherIcon":33,"HasPrecipitation":false,"PrecipitationType":null,"IsDayTime":false,"Temperature":{"Metric":{"Value":23.9,"Unit":"C","UnitType":17},"Imperial":{"Value":75,"Unit":"F","UnitType":18}},"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"}]')},92:function(e){e.exports=JSON.parse('{"Headline":{"EffectiveDate":"2021-05-22T08:00:00+03:00","EffectiveEpochDate":1621659600,"Severity":4,"Text":"Pleasant this weekend","Category":"mild","EndDate":null,"EndEpochDate":null,"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/extended-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},"DailyForecasts":[{"Date":"2021-05-19T07:00:00+03:00","EpochDate":1621396800,"Temperature":{"Minimum":{"Value":21.3,"Unit":"C","UnitType":17},"Maximum":{"Value":27.6,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},{"Date":"2021-05-20T07:00:00+03:00","EpochDate":1621483200,"Temperature":{"Minimum":{"Value":23.7,"Unit":"C","UnitType":17},"Maximum":{"Value":26.4,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":35,"IconPhrase":"Partly cloudy","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{"Date":"2021-05-21T07:00:00+03:00","EpochDate":1621569600,"Temperature":{"Minimum":{"Value":23.5,"Unit":"C","UnitType":17},"Maximum":{"Value":26.1,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{"Date":"2021-05-22T07:00:00+03:00","EpochDate":1621656000,"Temperature":{"Minimum":{"Value":22,"Unit":"C","UnitType":17},"Maximum":{"Value":23.8,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":36,"IconPhrase":"Intermittent clouds","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{"Date":"2021-05-23T07:00:00+03:00","EpochDate":1621742400,"Temperature":{"Minimum":{"Value":20.9,"Unit":"C","UnitType":17},"Maximum":{"Value":24.2,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":33,"IconPhrase":"Clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"}]}')},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(19),c=a.n(r),i=a(23),o=a(6),s=a(50),u=(a(63),a(8)),l=a.n(u),h=a(22),d=a(14),p=(a(65),a(102)),j=a(103),f=a(105),m=a(7),y=a(27),b="FAHRENHEIT",v="CELSIUS",x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=a.p+"static/media/weather-icon-512.db9f65c0.png",w=a(2);var g=Object(m.o)((function(e){var t=e.location;return Object(w.jsxs)(j.a,{className:"mx-auto sticky-top",style:{backgroundColor:"white"},children:[Object(w.jsxs)(j.a.Brand,{href:"https://github.com/liorho/Lior-Hoshea-20-05-2020",target:"_blank",children:[Object(w.jsx)("img",{src:O,style:{width:"2rem",height:"2rem"},className:"d-inline-block align-top",alt:"Weatherly logo"})," Weatherly"]}),Object(w.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(j.a.Collapse,{id:"basic-navbar-nav"}),Object(w.jsxs)(f.a,{activeKey:t.pathname,className:"ml-auto",children:[Object(w.jsx)(y.LinkContainer,{to:"/home",children:Object(w.jsx)(f.a.Link,{children:"Home"})}),Object(w.jsx)(y.LinkContainer,{to:"/favorites",children:Object(w.jsx)(f.a.Link,{children:"Favorites"})})]})]})})),T=a(104),C=a(99),I=a(18),E=a(28),k=a.n(E),N=k.a.create({baseURL:"https://dataservice.accuweather.com/locations/v1/cities"}),L=k.a.create({baseURL:"https://dataservice.accuweather.com/currentconditions/v1"}),S=k.a.create({baseURL:"https://dataservice.accuweather.com/forecasts/v1/daily/5day"}),D=k.a.create({baseURL:"https://dataservice.accuweather.com/locations/v1/cities/geoposition"}),U=function(e){return{id:e.Key,city:e.LocalizedName,country:e.Country.LocalizedName}},M=function(e){return e.map(U)},P="ZQI6c1ceQAiGcsMYMp0f1vxBNmFgI9Dd",_=function(e){return L.get("/".concat(e,"?apikey=").concat(P))},F=function(e){return S.get("/".concat(e,"?apikey=").concat(P,"&metric=true"))},H=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([_(t),F(t)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("autocomplete?apikey=".concat(P,"&q=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("search?apikey=".concat(P,"&q=").concat(t,",").concat(a));case 3:return n=e.sent,r=n.data,e.abrupt("return",U(r));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{city:"Tel Aviv",country:"Israel",id:"215854"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),R="FETCH_CITY_WEATHER",V="FETCH_CITY_WEATHER_SUCCESS",B="FETCH_CITY_WEATHER_FAILURE",J="FETCH_CITIES_AC",Y="FETCH_CITIES_AC_SUCCESS",z="FETCH_CITIES_AC_FAILURE",q="RESET_CITIES_AC",G="ADD_TO_FAVORITES",K="REMOVE_FROM_FAVORITES",Q="SET_FAVORITE_TO_CITY_WEATHER",Z="SET_FAHRENHEIT",$="SET_CELSIUS",X=function(e){return Math.round(e)},ee=function(e){return"https://developer.accuweather.com/sites/default/files/".concat(e>=10?e:"0"+e,"-s.png")},te=function(e){var t=new Date(e);return x[t.getDay()]},ae=function(e,t){return t===v?e:X(9*e/5+32)},ne=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e([t.coords.latitude,t.coords.longitude])})):t({error:"Geolocation is not supported by this browser."})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e){return e.map((function(e){return{date:e.Date,temperature:{min:X(e.Temperature.Minimum.Value),max:X(e.Temperature.Maximum.Value)},dayIcon:e.Day.Icon,dayText:e.Day.IconPhrase}}))},ce=function(e,t){return{currentConditions:(a=e,{date:a.LocalObservationDateTime,isDayTime:a.IsDayTime,temperature:X(a.Temperature.Metric.Value),icon:a.WeatherIcon,text:a.WeatherText}),forecast:re(t.DailyForecasts)};var a},ie=a(91);a(92);ie=ie[0];var oe=function(e,t,a){return function(){var n=Object(d.a)(l.a.mark((function n(r){var c,i,o,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:R}),n.prev=1,n.next=4,H(e);case 4:c=n.sent,i=Object(h.a)(c,2),o=i[0],s=i[1],r({type:V,payload:Object(I.a)(Object(I.a)({},ce(o.data[0],s.data)),{},{id:e,city:t,country:a})}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0),r({type:B,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},se=a(97),ue=function(){return Object(w.jsx)(se.a,{className:"mx-auto",animation:"border",variant:"secondary"})},le=a(98);var he=function(){return Object(w.jsxs)(le.a,{children:[Object(w.jsx)("h1",{children:"This is an Error Message"}),Object(w.jsx)("p",{children:"There has been some kind of problem while trying to handle your request."}),Object(w.jsx)("p",{children:"Please try again later."})]})},de=function(e){return Object(w.jsx)(w.Fragment,{children:e.state.error?Object(w.jsx)(he,{}):e.state.isLoading?Object(w.jsx)(ue,{}):e.children})};var pe=function(){var e,t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(""),s=Object(o.c)((function(e){return e.citiesAC})),u=Object(o.b)();return Object(n.useEffect)((function(){return i.current.focus()}),[u]),Object(n.useEffect)((function(){""!==r&&u(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:J}),t.prev=1,t.next=4,W(e);case 4:n=t.sent,r=n.data,a({type:Y,payload:M(r)}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),a({type:z,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(r))}),[u,r]),Object(w.jsxs)(T.a,{className:"justify-content-center w50",children:[Object(w.jsxs)(C.a,{children:[Object(w.jsx)(C.a.Prepend,{children:Object(w.jsx)(C.a.Text,{children:"\ud83d\udd0d"})}),Object(w.jsx)(T.a.Control,{placeholder:"Search City",onChange:function(e){setTimeout((function(){return c(e.target.value)}),800)},ref:i,style:{outline:"none !important",boxShadow:"none"}})]}),Object(w.jsx)(de,{state:s,children:s.cities.length?Object(w.jsx)(T.a.Control,{as:"select",multiple:!0,onChange:function(e){var t=JSON.parse(e.target.value),a=t.id,n=t.city,r=t.country;u(oe(a,n,r)),c(""),i.current.value="",u((function(e){return e({type:q})}))},children:null===(e=s.cities)||void 0===e?void 0:e.map((function(e){return Object(w.jsxs)("option",{value:JSON.stringify(e),children:[e.city,", ",e.country]},e.id)}))}):""})]})},je=a(100);var fe=function(){var e=Object(o.c)((function(e){return e.cityWeather})),t=Object(o.c)((function(e){return e.units}));return Object(w.jsx)(w.Fragment,{children:e.weather.currentConditions?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(je.a,{className:"justify-content-center",children:e.weather.currentConditions.text}),Object(w.jsxs)(je.a,{className:"justify-content-center",style:{fontSize:"7rem"},children:[ae(e.weather.currentConditions.temperature,t),"\xb0"]})]}):""})},me=a(101),ye=(a(93),a(106));var be=function(e){var t=e.forecast,a=t.date,n=t.temperature,r=t.dayIcon,c=(t.dayText,Object(o.c)((function(e){return e.units})));return Object(w.jsx)(ye.a,{border:"light",className:"text-center mx-1 day-forecast-card",children:Object(w.jsxs)(ye.a.Body,{className:"day-forecast-card-body",children:[Object(w.jsx)(ye.a.Title,{className:"day-forecast-card-item",children:te(a)}),Object(w.jsx)(ye.a.Img,{style:{width:"6rem"},src:ee(r),className:"day-forecast-card-item"}),Object(w.jsxs)(ye.a.Title,{className:"day-forecast-card-item",children:[ae(null===n||void 0===n?void 0:n.min,c),"\xb0 - ",ae(null===n||void 0===n?void 0:n.max,c),"\xb0"]})]})})};var ve=function(){var e,t=Object(o.c)((function(e){return e.cityWeather}));return Object(w.jsx)(w.Fragment,{children:(null===(e=t.weather)||void 0===e?void 0:e.forecast)?Object(w.jsx)(me.a,{className:"forecast",children:t.weather.forecast.map((function(e,t){return Object(w.jsx)(be,{forecast:e},t)}))}):""})},xe=function(){var e=Object(o.c)((function(e){return e.cityWeather})),t=Object(o.c)((function(e){return e.favorites})),a=Object(o.b)(),n=null===t||void 0===t?void 0:t.some((function(t){return t.weather.id===e.weather.id}));return Object(w.jsx)("div",{className:"position-absolute top-0 end-0",style:{cursor:"pointer",fontSize:"3rem"},onClick:function(){var t;a(n?(t=e,function(e){return e({type:K,payload:t})}):function(e){return function(t){return t({type:G,payload:e})}}(e))},children:Object(w.jsx)("i",{className:n?"fas fa-heart":"far fa-heart"})})};var Oe=function(){var e=Object(o.c)((function(e){return e.cityWeather}));return Object(w.jsx)(de,{state:e,children:e.weather.currentConditions?Object(w.jsxs)(p.a,{className:"position-relative mt-3",children:[Object(w.jsx)(je.a,{className:"h1 justify-content-center position-relative",children:e.weather.city}),Object(w.jsx)(xe,{}),Object(w.jsx)(fe,{}),Object(w.jsx)(ve,{})]}):""})};var we=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(pe,{}),Object(w.jsx)(Oe,{})]})};var ge=function(e){var t=e.favorite,a=Object(o.b)(),n=Object(o.c)((function(e){return e.units})),r=t.weather,c=r.city,i=r.country,s=r.currentConditions,u=s.temperature,l=s.icon;return s.text,Object(w.jsx)(y.LinkContainer,{to:"/home",style:{cursor:"pointer"},onClick:function(){a(function(e){return function(t){return t({type:Q,payload:e})}}(t.weather))},children:Object(w.jsx)(ye.a,{border:"light",className:"text-center mx-1 favorite",style:{minWidth:"150px",maxWidth:"200px"},children:Object(w.jsxs)(ye.a.Body,{className:"favorite-card-body",children:[Object(w.jsxs)(ye.a.Title,{className:"favorite-card-item",children:[c,", ",i]}),Object(w.jsx)(ye.a.Img,{className:"favorite-card-item",style:{width:100},src:ee(l)}),Object(w.jsxs)(ye.a.Title,{className:"favorite-card-item",children:[ae(u,n),"\xb0"]})]})})})};a(94);var Te=function(){var e=Object(o.c)((function(e){return e.favorites}));return Object(w.jsx)(w.Fragment,{children:e.length?Object(w.jsx)(me.a,{className:"favorites",children:e.map((function(e){return Object(w.jsx)(ge,{favorite:e},e.weather.id)}))}):Object(w.jsx)("h1",{className:"text-center",children:"No Favorites Yet"})})};var Ce=function(){return Object(w.jsx)(p.a,{style:{maxWidth:"900px",marginTop:"1rem"},children:Object(w.jsxs)(m.g,{children:[Object(w.jsx)(m.d,{exact:!0,path:"/home",component:we}),Object(w.jsx)(m.d,{exact:!0,path:"/favorites",component:Te}),Object(w.jsx)(m.c,{to:"/home",component:we})]})})};var Ie=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.units}));return Object(w.jsxs)("span",{onClick:function(){var a;e((a=t===v?Z:$,function(e){e({type:a})}))},style:{cursor:"pointer",border:"1px solid black"},className:"p-1 position-absolute top-50 end-0",children:[Object(w.jsx)("span",{className:t===b?"text-muted":"",children:"\xb0C"}),Object(w.jsx)("span",{className:"text-muted",children:" / "}),Object(w.jsx)("span",{className:t===v?"text-muted":"",children:"\xb0F"})]})},Ee=a(24);var ke=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var a,n,r,c,i,o,s,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne();case 3:return a=t.sent,n=Object(h.a)(a,2),r=n[0],c=n[1],t.next=9,A(r,c);case 9:i=t.sent,o=i.id,s=i.city,u=i.country,e(oe(o,s,u)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(w.jsxs)(Ee.BrowserRouter,{children:[Object(w.jsxs)(p.a,{children:[Object(w.jsx)(g,{}),Object(w.jsx)(Ce,{})]}),Object(w.jsx)(Ie,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne={isLoading:!1,error:"",cities:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0});case Y:return{isLoading:!1,cities:t.payload,error:""};case z:return{isLoading:!1,weather:[],error:t.payload};case q:return Ne;default:return e}},Se=a(53),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return[].concat(Object(Se.a)(e),[t.payload]);case K:return e.filter((function(e){return e.weather.id!==t.payload.weather.id}));default:return e}},Ue={isLoading:!1,error:"",weather:{}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0});case V:return{isLoading:!1,weather:t.payload,error:""};case B:return{isLoading:!1,weather:{},error:t.payload};case Q:return{isLoading:!1,weather:t.payload,error:""};default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return v;case Z:return b;default:return e}},_e=Object(i.b)({cityWeather:Me,favorites:De,citiesAC:Le,units:Pe}),Fe=Object(i.d)(_e,Object(i.c)(Object(i.a)(s.a)));c.a.render(Object(w.jsx)(o.a,{store:Fe,children:Object(w.jsx)(ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[95,1,2]]]);
//# sourceMappingURL=main.3b72f001.chunk.js.map
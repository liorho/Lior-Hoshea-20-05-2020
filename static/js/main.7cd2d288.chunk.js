(this.webpackJsonpweatherly=this.webpackJsonpweatherly||[]).push([[0],{60:function(e,t,a){},92:function(e){e.exports=JSON.parse('[{"LocalObservationDateTime":"2021-05-19T22:26:00+03:00","EpochTime":1621452360,"WeatherText":"Clear","WeatherIcon":33,"HasPrecipitation":false,"PrecipitationType":null,"IsDayTime":false,"Temperature":{"Metric":{"Value":23.9,"Unit":"C","UnitType":17},"Imperial":{"Value":75,"Unit":"F","UnitType":18}},"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"}]')},93:function(e){e.exports=JSON.parse('{"Headline":{"EffectiveDate":"2021-05-22T08:00:00+03:00","EffectiveEpochDate":1621659600,"Severity":4,"Text":"Pleasant this weekend","Category":"mild","EndDate":null,"EndEpochDate":null,"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/extended-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},"DailyForecasts":[{"Date":"2021-05-19T07:00:00+03:00","EpochDate":1621396800,"Temperature":{"Minimum":{"Value":21.3,"Unit":"C","UnitType":17},"Maximum":{"Value":27.6,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},{"Date":"2021-05-20T07:00:00+03:00","EpochDate":1621483200,"Temperature":{"Minimum":{"Value":23.7,"Unit":"C","UnitType":17},"Maximum":{"Value":26.4,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":35,"IconPhrase":"Partly cloudy","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{"Date":"2021-05-21T07:00:00+03:00","EpochDate":1621569600,"Temperature":{"Minimum":{"Value":23.5,"Unit":"C","UnitType":17},"Maximum":{"Value":26.1,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{"Date":"2021-05-22T07:00:00+03:00","EpochDate":1621656000,"Temperature":{"Minimum":{"Value":22,"Unit":"C","UnitType":17},"Maximum":{"Value":23.8,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":36,"IconPhrase":"Intermittent clouds","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{"Date":"2021-05-23T07:00:00+03:00","EpochDate":1621742400,"Temperature":{"Minimum":{"Value":20.9,"Unit":"C","UnitType":17},"Maximum":{"Value":24.2,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":33,"IconPhrase":"Clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"}]}')},94:function(e){e.exports=JSON.parse('[{"Version":1,"Key":"215854","Type":"City","Rank":31,"LocalizedName":"Tel Aviv","Country":{"ID":"IL","LocalizedName":"Israel"},"AdministrativeArea":{"ID":"TA","LocalizedName":"Tel Aviv"}},{"Version":1,"Key":"3431644","Type":"City","Rank":45,"LocalizedName":"Telanaipura","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JA","LocalizedName":"Jambi"}},{"Version":1,"Key":"300558","Type":"City","Rank":45,"LocalizedName":"Telok Blangah New Town","Country":{"ID":"SG","LocalizedName":"Singapore"},"AdministrativeArea":{"ID":"05","LocalizedName":"South West"}},{"Version":1,"Key":"325876","Type":"City","Rank":51,"LocalizedName":"Telford","Country":{"ID":"GB","LocalizedName":"United Kingdom"},"AdministrativeArea":{"ID":"TFW","LocalizedName":"Telford and Wrekin"}},{"Version":1,"Key":"169072","Type":"City","Rank":51,"LocalizedName":"Telavi","Country":{"ID":"GE","LocalizedName":"Georgia"},"AdministrativeArea":{"ID":"KA","LocalizedName":"Kakheti"}},{"Version":1,"Key":"230611","Type":"City","Rank":51,"LocalizedName":"Telsiai","Country":{"ID":"LT","LocalizedName":"Lithuania"},"AdministrativeArea":{"ID":"TE","LocalizedName":"Tel\u0161iai"}},{"Version":1,"Key":"2723742","Type":"City","Rank":55,"LocalizedName":"Tel\xe9grafo","Country":{"ID":"BR","LocalizedName":"Brazil"},"AdministrativeArea":{"ID":"PA","LocalizedName":"Par\xe1"}},{"Version":1,"Key":"186933","Type":"City","Rank":55,"LocalizedName":"Tela","Country":{"ID":"HN","LocalizedName":"Honduras"},"AdministrativeArea":{"ID":"AT","LocalizedName":"Atl\xe1ntida"}},{"Version":1,"Key":"3453754","Type":"City","Rank":55,"LocalizedName":"Telaga Asih","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JB","LocalizedName":"West Java"}},{"Version":1,"Key":"3453755","Type":"City","Rank":55,"LocalizedName":"Telagamurni","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JB","LocalizedName":"West Java"}}]')},95:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(14),r=a.n(i),c=(a(60),a(101)),o=a(103),s=(a(40),a(6)),l=a(24),u=a.p+"static/media/weather-icon-512.db9f65c0.png",d=a(2);var h=Object(s.o)((function(e){var t=e.location;return Object(d.jsxs)(c.a,{children:[Object(d.jsxs)(c.a.Brand,{href:"https://github.com/liorho/Lior-Hoshea-20-05-2020",target:"_blank",children:[Object(d.jsx)("img",{src:u,width:"30",height:"30",className:"d-inline-block align-top",alt:"Weatherly logo"})," Weatherly"]}),Object(d.jsxs)(o.a,{activeKey:t.pathname,children:[Object(d.jsx)(l.LinkContainer,{to:"/home",children:Object(d.jsx)(o.a.Link,{children:"Home"})}),Object(d.jsx)(l.LinkContainer,{to:"/favorites",children:Object(d.jsx)(o.a.Link,{children:"Favorites"})})]})]})})),y=a(54),m=a(102),j=a(98),p=a(7),f=a(15),v=a.n(f),b=a(17),O=a(21),w=a(33),T=a.n(w),g=(T.a.create({baseURL:"http://dataservice.accuweather.com/locations/v1/cities"}),T.a.create({baseURL:"http://dataservice.accuweather.com/currentconditions/v1"}),T.a.create({baseURL:"http://dataservice.accuweather.com/forecasts/v1/daily/5day"}),"FETCH_CITY_WEATHER"),x="FETCH_CITY_WEATHER_SUCCESS",I="FETCH_CITY_WEATHER_FAILURE",C="FETCH_CITIES_AC",L="FETCH_CITIES_AC_SUCCESS",D="FETCH_CITIES_AC_FAILURE",A="RESET_CITIES_AC",k="ADD_TO_FAVORITES",E="REMOVE_FROM_FAVORITES",N="SET_FAVORITE_TO_CITY_WEATHER",S=function(e){return Math.round(e)},U=function(e){return e.map((function(e){return{date:e.Date,temperature:{min:S(e.Temperature.Minimum.Value),max:S(e.Temperature.Maximum.Value)},dayIcon:e.Day.Icon,dayText:e.Day.IconPhrase}}))},W=function(e,t){return{currentConditions:(a=e,{date:a.LocalObservationDateTime,isDayTime:a.IsDayTime,temperature:S(a.Temperature.Metric.Value),icon:a.WeatherIcon,text:a.WeatherText}),forecast:U(t.DailyForecasts)};var a},z=a(92),R=a(93);z=z[0];var M=function(e){return e.map((function(e){return{id:e.Key,city:e.LocalizedName,country:e.Country.LocalizedName}}))},P=a(94),V=a(97),H=function(){return Object(d.jsx)(V.a,{className:"mx-auto",animation:"border",variant:"secondary"})};var F=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"There has been some kind of problem while trying to handle your request."}),Object(d.jsx)("div",{children:"Please try again later."})]})},_=function(e){return Object(d.jsx)(d.Fragment,{children:e.state.error?Object(d.jsx)(F,{}):e.state.isLoading?Object(d.jsx)(H,{}):e.children})};var K=function(){var e,t=Object(n.useState)(""),a=Object(y.a)(t,2),i=a[0],c=a[1],o=Object(n.useRef)(""),s=Object(p.c)((function(e){return e.citiesAC})),l=Object(p.b)();return Object(n.useEffect)((function(){return r.a.findDOMNode(o.current).focus()}),[]),Object(n.useEffect)((function(){""!==i&&l(function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:C});try{t({type:L,payload:M(P)})}catch(a){console.log(a),t({type:D,payload:a.message})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),Object(d.jsxs)(m.a,{children:[Object(d.jsxs)(j.a,{children:[Object(d.jsx)(j.a.Prepend,{children:Object(d.jsx)(j.a.Text,{children:"\ud83d\udd0d"})}),Object(d.jsx)(m.a.Control,{placeholder:"Search City",onChange:function(e){setTimeout((function(){return c(e.target.value)}),1e3)},ref:o})]}),Object(d.jsx)(_,{state:s,children:s.cities.length?Object(d.jsx)(m.a.Control,{as:"select",multiple:!0,onChange:function(e){var t=JSON.parse(e.target.value),a=t.id,n=t.city,i=t.country;l(function(e,t,a){return function(){var n=Object(O.a)(v.a.mark((function n(i){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i({type:g});try{i({type:x,payload:Object(b.a)(Object(b.a)({},W(z,R)),{},{id:e,city:t,country:a})})}catch(r){console.log(r),i({type:I,payload:r.message})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,n,i)),c(""),r.a.findDOMNode(o.current).value="",l((function(e){return e({type:A})}))},children:null===(e=s.cities)||void 0===e?void 0:e.map((function(e){return Object(d.jsxs)("option",{value:JSON.stringify(e),children:[e.city,", ",e.country]},e.id)}))}):""})]})},B=a(104),J=function(e){return"https://developer.accuweather.com/sites/default/files/".concat(e>=10?e:"0"+e,"-s.png")},G=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]};var Y=function(){var e=Object(p.c)((function(e){return e.cityWeather}));return Object(d.jsx)(d.Fragment,{children:e.weather.currentConditions?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(B.a.Img,{style:{width:100},src:J(e.weather.currentConditions.icon)}),Object(d.jsxs)(B.a.Body,{children:[Object(d.jsx)(B.a.Title,{children:e.weather.currentConditions.text}),Object(d.jsxs)(B.a.Text,{children:[e.weather.currentConditions.temperature,"\xb0"]})]})]}):""})};var q=function(e){var t=e.forecast,a=t.date,n=t.temperature,i=t.dayIcon,r=t.dayText;return Object(d.jsxs)(B.a,{children:[Object(d.jsx)(B.a.Img,{style:{width:300},src:J(i)}),Object(d.jsx)(B.a.ImgOverlay,{children:Object(d.jsxs)(B.a.Body,{children:[Object(d.jsx)(B.a.Title,{children:G(a)}),Object(d.jsx)(B.a.Title,{children:r}),Object(d.jsxs)(B.a.Text,{children:[null===n||void 0===n?void 0:n.min,"\xb0 - ",null===n||void 0===n?void 0:n.max,"\xb0"]})]})})]})},$=a(99);var Q=function(){var e,t=Object(p.c)((function(e){return e.cityWeather}));return Object(d.jsx)(d.Fragment,{children:(null===(e=t.weather)||void 0===e?void 0:e.forecast)?Object(d.jsx)($.a,{children:t.weather.forecast.map((function(e,t){return Object(d.jsx)(q,{forecast:e},t)}))}):""})},X=a(100);var Z=function(){var e=Object(p.c)((function(e){return e.cityWeather})),t=Object(p.c)((function(e){return e.favorites})),a=Object(p.b)(),n=null===t||void 0===t?void 0:t.some((function(t){return t.weather.id===e.weather.id}));return Object(d.jsx)(_,{state:e,children:e.weather.currentConditions?Object(d.jsxs)(B.a,{children:[Object(d.jsx)(B.a.Title,{children:e.weather.city}),Object(d.jsx)(X.a,{onClick:function(){var t;a(n?(t=e,function(e){return e({type:E,payload:t})}):function(e){return function(t){return t({type:k,payload:e})}}(e))},children:n?"Remove From Favorites":"Add to Favorites"}),Object(d.jsx)(Y,{}),Object(d.jsx)(Q,{})]}):""})};var ee=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z,{})]})};var te=function(e){var t=e.favorite,a=t.weather,n=(a.id,a.city),i=a.currentConditions,r=i.temperature,c=i.icon,o=i.text,s=Object(p.b)();return Object(d.jsx)(l.LinkContainer,{to:"/home",style:{cursor:"pointer"},onClick:function(){s(function(e){return function(t){return t({type:N,payload:e})}}(t.weather))},children:Object(d.jsxs)(B.a,{children:[Object(d.jsx)(B.a.Img,{style:{width:300},src:J(c)}),Object(d.jsx)(B.a.ImgOverlay,{children:Object(d.jsxs)(B.a.Body,{children:[Object(d.jsx)(B.a.Title,{children:n}),Object(d.jsx)(B.a.Title,{children:o}),Object(d.jsxs)(B.a.Text,{children:[r,"\xb0"]})]})})]})})};var ae=function(){var e=Object(p.c)((function(e){return e.favorites}));return Object(d.jsx)(d.Fragment,{children:e.length?Object(d.jsx)($.a,{children:e.map((function(e){return Object(d.jsx)(te,{favorite:e},e.weather.id)}))}):""})};var ne=function(){return Object(d.jsxs)(s.g,{children:[Object(d.jsx)(s.d,{exact:!0,path:"/home",component:ee}),Object(d.jsx)(s.d,{exact:!0,path:"/favorites",component:ae}),Object(d.jsx)(s.c,{to:"/home",component:ee})]})},ie=a(22);var re=function(){return Object(p.b)(),Object(p.c)((function(e){return e.cityWeather})),Object(n.useEffect)((function(){}),[]),Object(d.jsxs)(ie.BrowserRouter,{children:[Object(d.jsx)(h,{}),Object(d.jsx)(ne,{})]})},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var se=a(23),le=a(53),ue={isLoading:!1,error:"",cities:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case L:return{isLoading:!1,cities:t.payload,error:""};case D:return{isLoading:!1,weather:[],error:t.payload};case A:return ue;default:return e}},he=a(55),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return[].concat(Object(he.a)(e),[t.payload]);case E:return e.filter((function(e){return e.weather.id!==t.payload.weather.id}));default:return e}},me={isLoading:!1,error:"",weather:{city:"Tel Aviv",country:"Israel",id:"215854"}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case x:return{isLoading:!1,weather:t.payload,error:""};case I:return{isLoading:!1,weather:{},error:t.payload};case N:return{isLoading:!1,weather:t.payload,error:""};default:return e}},pe=Object(se.b)({cityWeather:je,favorites:ye,citiesAC:de}),fe=Object(se.d)(pe,Object(se.c)(Object(se.a)(le.a)));r.a.render(Object(d.jsx)(p.a,{store:fe,children:Object(d.jsx)(re,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Lior-Hoshea-20-05-2020",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Lior-Hoshea-20-05-2020","/service-worker.js");ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):oe(t,e)}))}}()}},[[95,1,2]]]);
//# sourceMappingURL=main.7cd2d288.chunk.js.map
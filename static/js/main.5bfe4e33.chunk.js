(this.webpackJsonpweatherly=this.webpackJsonpweatherly||[]).push([[0],{63:function(e,t,a){},91:function(e){e.exports=JSON.parse('[{"LocalObservationDateTime":"2021-05-19T22:26:00+03:00","EpochTime":1621452360,"WeatherText":"Clear","WeatherIcon":33,"HasPrecipitation":false,"PrecipitationType":null,"IsDayTime":false,"Temperature":{"Metric":{"Value":23.9,"Unit":"C","UnitType":17},"Imperial":{"Value":75,"Unit":"F","UnitType":18}},"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"}]')},92:function(e){e.exports=JSON.parse('{"Headline":{"EffectiveDate":"2021-05-22T08:00:00+03:00","EffectiveEpochDate":1621659600,"Severity":4,"Text":"Pleasant this weekend","Category":"mild","EndDate":null,"EndEpochDate":null,"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/extended-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},"DailyForecasts":[{"Date":"2021-05-19T07:00:00+03:00","EpochDate":1621396800,"Temperature":{"Minimum":{"Value":21.3,"Unit":"C","UnitType":17},"Maximum":{"Value":27.6,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},{"Date":"2021-05-20T07:00:00+03:00","EpochDate":1621483200,"Temperature":{"Minimum":{"Value":23.7,"Unit":"C","UnitType":17},"Maximum":{"Value":26.4,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":35,"IconPhrase":"Partly cloudy","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{"Date":"2021-05-21T07:00:00+03:00","EpochDate":1621569600,"Temperature":{"Minimum":{"Value":23.5,"Unit":"C","UnitType":17},"Maximum":{"Value":26.1,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":34,"IconPhrase":"Mostly clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{"Date":"2021-05-22T07:00:00+03:00","EpochDate":1621656000,"Temperature":{"Minimum":{"Value":22,"Unit":"C","UnitType":17},"Maximum":{"Value":23.8,"Unit":"C","UnitType":17}},"Day":{"Icon":2,"IconPhrase":"Mostly sunny","HasPrecipitation":false},"Night":{"Icon":36,"IconPhrase":"Intermittent clouds","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{"Date":"2021-05-23T07:00:00+03:00","EpochDate":1621742400,"Temperature":{"Minimum":{"Value":20.9,"Unit":"C","UnitType":17},"Maximum":{"Value":24.2,"Unit":"C","UnitType":17}},"Day":{"Icon":1,"IconPhrase":"Sunny","HasPrecipitation":false},"Night":{"Icon":33,"IconPhrase":"Clear","HasPrecipitation":false},"Sources":["AccuWeather"],"MobileLink":"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us","Link":"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"}]}')},93:function(e){e.exports=JSON.parse('[{"Version":1,"Key":"215854","Type":"City","Rank":31,"LocalizedName":"Tel Aviv","Country":{"ID":"IL","LocalizedName":"Israel"},"AdministrativeArea":{"ID":"TA","LocalizedName":"Tel Aviv"}},{"Version":1,"Key":"3431644","Type":"City","Rank":45,"LocalizedName":"Telanaipura","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JA","LocalizedName":"Jambi"}},{"Version":1,"Key":"300558","Type":"City","Rank":45,"LocalizedName":"Telok Blangah New Town","Country":{"ID":"SG","LocalizedName":"Singapore"},"AdministrativeArea":{"ID":"05","LocalizedName":"South West"}},{"Version":1,"Key":"325876","Type":"City","Rank":51,"LocalizedName":"Telford","Country":{"ID":"GB","LocalizedName":"United Kingdom"},"AdministrativeArea":{"ID":"TFW","LocalizedName":"Telford and Wrekin"}},{"Version":1,"Key":"169072","Type":"City","Rank":51,"LocalizedName":"Telavi","Country":{"ID":"GE","LocalizedName":"Georgia"},"AdministrativeArea":{"ID":"KA","LocalizedName":"Kakheti"}},{"Version":1,"Key":"230611","Type":"City","Rank":51,"LocalizedName":"Telsiai","Country":{"ID":"LT","LocalizedName":"Lithuania"},"AdministrativeArea":{"ID":"TE","LocalizedName":"Tel\u0161iai"}},{"Version":1,"Key":"2723742","Type":"City","Rank":55,"LocalizedName":"Tel\xe9grafo","Country":{"ID":"BR","LocalizedName":"Brazil"},"AdministrativeArea":{"ID":"PA","LocalizedName":"Par\xe1"}},{"Version":1,"Key":"186933","Type":"City","Rank":55,"LocalizedName":"Tela","Country":{"ID":"HN","LocalizedName":"Honduras"},"AdministrativeArea":{"ID":"AT","LocalizedName":"Atl\xe1ntida"}},{"Version":1,"Key":"3453754","Type":"City","Rank":55,"LocalizedName":"Telaga Asih","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JB","LocalizedName":"West Java"}},{"Version":1,"Key":"3453755","Type":"City","Rank":55,"LocalizedName":"Telagamurni","Country":{"ID":"ID","LocalizedName":"Indonesia"},"AdministrativeArea":{"ID":"JB","LocalizedName":"West Java"}}]')},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(19),i=a.n(r),c=a(22),o=a(6),s=a(50),u=(a(63),a(8)),l=a.n(u),d=a(32),h=a(14),m=(a(65),a(103)),y=a(104),j=a(106),p=a(7),f=a(26),b="FAHRENHEIT",v="CELSIUS",O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=a.p+"static/media/weather-icon-512.db9f65c0.png",T=a(2);var w=Object(p.o)((function(e){var t=e.location;return Object(T.jsxs)(y.a,{className:"mx-auto sticky-top",style:{backgroundColor:"white"},children:[Object(T.jsxs)(y.a.Brand,{href:"https://github.com/liorho/Lior-Hoshea-20-05-2020",target:"_blank",children:[Object(T.jsx)("img",{src:x,style:{width:"2rem",height:"2rem"},className:"d-inline-block align-top",alt:"Weatherly logo"})," Weatherly"]}),Object(T.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(T.jsx)(y.a.Collapse,{id:"basic-navbar-nav"}),Object(T.jsxs)(j.a,{activeKey:t.pathname,className:"ml-auto",children:[Object(T.jsx)(f.LinkContainer,{to:"/home",children:Object(T.jsx)(j.a.Link,{children:"Home"})}),Object(T.jsx)(f.LinkContainer,{to:"/favorites",children:Object(T.jsx)(j.a.Link,{children:"Favorites"})})]})]})})),g=a(105),I=a(100),C=a(18),L=a(27),N=a.n(L),E=(N.a.create({baseURL:"http://dataservice.accuweather.com/locations/v1/cities"}),N.a.create({baseURL:"http://dataservice.accuweather.com/currentconditions/v1"}),N.a.create({baseURL:"http://dataservice.accuweather.com/forecasts/v1/daily/5day"}),N.a.create({baseURL:"http://dataservice.accuweather.com/locations/v1/cities/geoposition"}),function(e){return{id:e.Key,city:e.LocalizedName,country:e.Country.LocalizedName}}),D=function(e){return e.map(E)},A="FETCH_CITY_WEATHER",k="FETCH_CITY_WEATHER_SUCCESS",S="FETCH_CITY_WEATHER_FAILURE",z="FETCH_CITIES_AC",U="FETCH_CITIES_AC_SUCCESS",P="FETCH_CITIES_AC_FAILURE",R="RESET_CITIES_AC",W="ADD_TO_FAVORITES",H="REMOVE_FROM_FAVORITES",M="SET_FAVORITE_TO_CITY_WEATHER",V="SET_FAHRENHEIT",_="SET_CELSIUS",F=function(e){return Math.round(e)},K=function(e){return"https://developer.accuweather.com/sites/default/files/".concat(e>=10?e:"0"+e,"-s.png")},J=function(e){var t=new Date(e);return O[t.getDay()]},B=function(e,t){return t===v?e:F(9*e/5+32)},G=function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e([t.coords.latitude,t.coords.longitude])})):t({error:"Geolocation is not supported by this browser."})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return e.map((function(e){return{date:e.Date,temperature:{min:F(e.Temperature.Minimum.Value),max:F(e.Temperature.Maximum.Value)},dayIcon:e.Day.Icon,dayText:e.Day.IconPhrase}}))},q=function(e,t){return{currentConditions:(a=e,{date:a.LocalObservationDateTime,isDayTime:a.IsDayTime,temperature:F(a.Temperature.Metric.Value),icon:a.WeatherIcon,text:a.WeatherText}),forecast:Y(t.DailyForecasts)};var a},$=a(91),Q=a(92);$=$[0];var X=function(e,t,a){return function(){var n=Object(h.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:A});try{r({type:k,payload:Object(C.a)(Object(C.a)({},q($,Q)),{},{id:e,city:t,country:a})})}catch(i){console.log(i),r({type:S,payload:i.message})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Z=a(93),ee=a(98),te=function(){return Object(T.jsx)(ee.a,{className:"mx-auto",animation:"border",variant:"secondary"})},ae=a(99);var ne=function(){return Object(T.jsxs)(ae.a,{children:[Object(T.jsx)("h1",{children:"This is an Error Message"}),Object(T.jsx)("p",{children:"There has been some kind of problem while trying to handle your request."}),Object(T.jsx)("p",{children:"Please try again later."})]})},re=function(e){return Object(T.jsx)(T.Fragment,{children:e.state.error?Object(T.jsx)(ne,{}):e.state.isLoading?Object(T.jsx)(te,{}):e.children})};var ie=function(){var e,t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],i=a[1],c=Object(n.useRef)(""),s=Object(o.c)((function(e){return e.citiesAC})),u=Object(o.b)();return Object(n.useEffect)((function(){return c.current.focus()}),[u]),Object(n.useEffect)((function(){""!==r&&u(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:z});try{t({type:U,payload:D(Z)})}catch(a){console.log(a),t({type:P,payload:a.message})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[u,r]),Object(T.jsxs)(g.a,{className:"justify-content-center w50",children:[Object(T.jsxs)(I.a,{children:[Object(T.jsx)(I.a.Prepend,{children:Object(T.jsx)(I.a.Text,{children:"\ud83d\udd0d"})}),Object(T.jsx)(g.a.Control,{placeholder:"Search City",onChange:function(e){setTimeout((function(){return i(e.target.value)}),800)},ref:c,style:{outline:"none !important",boxShadow:"none"}})]}),Object(T.jsx)(re,{state:s,children:s.cities.length?Object(T.jsx)(g.a.Control,{as:"select",multiple:!0,onChange:function(e){var t=JSON.parse(e.target.value),a=t.id,n=t.city,r=t.country;u(X(a,n,r)),i(""),c.current.value="",u((function(e){return e({type:R})}))},children:null===(e=s.cities)||void 0===e?void 0:e.map((function(e){return Object(T.jsxs)("option",{value:JSON.stringify(e),children:[e.city,", ",e.country]},e.id)}))}):""})]})},ce=a(101);var oe=function(){var e=Object(o.c)((function(e){return e.cityWeather})),t=Object(o.c)((function(e){return e.units}));return Object(T.jsx)(T.Fragment,{children:e.weather.currentConditions?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ce.a,{className:"justify-content-center",children:e.weather.currentConditions.text}),Object(T.jsxs)(ce.a,{className:"justify-content-center",style:{fontSize:"7rem"},children:[B(e.weather.currentConditions.temperature,t),"\xb0"]})]}):""})},se=a(102),ue=(a(94),a(107));var le=function(e){var t=e.forecast,a=t.date,n=t.temperature,r=t.dayIcon,i=(t.dayText,Object(o.c)((function(e){return e.units})));return Object(T.jsx)(ue.a,{border:"light",className:"text-center mx-1 day-forecast-card",children:Object(T.jsxs)(ue.a.Body,{className:"day-forecast-card-body",children:[Object(T.jsx)(ue.a.Title,{className:"day-forecast-card-item",children:J(a)}),Object(T.jsx)(ue.a.Img,{style:{width:"6rem"},src:K(r),className:"day-forecast-card-item"}),Object(T.jsxs)(ue.a.Title,{className:"day-forecast-card-item",children:[B(null===n||void 0===n?void 0:n.min,i),"\xb0 - ",B(null===n||void 0===n?void 0:n.max,i),"\xb0"]})]})})};var de=function(){var e,t=Object(o.c)((function(e){return e.cityWeather}));return Object(T.jsx)(T.Fragment,{children:(null===(e=t.weather)||void 0===e?void 0:e.forecast)?Object(T.jsx)(se.a,{className:"forecast",children:t.weather.forecast.map((function(e,t){return Object(T.jsx)(le,{forecast:e},t)}))}):""})},he=function(){var e=Object(o.c)((function(e){return e.cityWeather})),t=Object(o.c)((function(e){return e.favorites})),a=Object(o.b)(),n=null===t||void 0===t?void 0:t.some((function(t){return t.weather.id===e.weather.id}));return Object(T.jsx)("div",{className:"position-absolute top-0 end-0",style:{cursor:"pointer",fontSize:"3rem"},onClick:function(){var t;a(n?(t=e,function(e){return e({type:H,payload:t})}):function(e){return function(t){return t({type:W,payload:e})}}(e))},children:Object(T.jsx)("i",{className:n?"fas fa-heart":"far fa-heart"})})};var me=function(){var e=Object(o.c)((function(e){return e.cityWeather}));return Object(T.jsx)(re,{state:e,children:e.weather.currentConditions?Object(T.jsxs)(m.a,{className:"position-relative mt-3",children:[Object(T.jsx)(ce.a,{className:"h1 justify-content-center position-relative",children:e.weather.city}),Object(T.jsx)(he,{}),Object(T.jsx)(oe,{}),Object(T.jsx)(de,{})]}):""})};var ye=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ie,{}),Object(T.jsx)(me,{})]})};var je=function(e){var t=e.favorite,a=Object(o.b)(),n=Object(o.c)((function(e){return e.units})),r=t.weather,i=r.city,c=r.country,s=r.currentConditions,u=s.temperature,l=s.icon;return s.text,Object(T.jsx)(f.LinkContainer,{to:"/home",style:{cursor:"pointer"},onClick:function(){a(function(e){return function(t){return t({type:M,payload:e})}}(t.weather))},children:Object(T.jsx)(ue.a,{border:"light",className:"text-center mx-1 favorite",style:{minWidth:"150px",maxWidth:"200px"},children:Object(T.jsxs)(ue.a.Body,{className:"favorite-card-body",children:[Object(T.jsxs)(ue.a.Title,{className:"favorite-card-item",children:[i,", ",c]}),Object(T.jsx)(ue.a.Img,{className:"favorite-card-item",style:{width:100},src:K(l)}),Object(T.jsxs)(ue.a.Title,{className:"favorite-card-item",children:[B(u,n),"\xb0"]})]})})})};a(95);var pe=function(){var e=Object(o.c)((function(e){return e.favorites}));return Object(T.jsx)(T.Fragment,{children:e.length?Object(T.jsx)(se.a,{className:"favorites",children:e.map((function(e){return Object(T.jsx)(je,{favorite:e},e.weather.id)}))}):Object(T.jsx)("h1",{className:"text-center",children:"No Favorites Yet"})})};var fe=function(){return Object(T.jsx)(m.a,{style:{maxWidth:"900px",marginTop:"1rem"},children:Object(T.jsxs)(p.g,{children:[Object(T.jsx)(p.d,{exact:!0,path:"/home",component:ye}),Object(T.jsx)(p.d,{exact:!0,path:"/favorites",component:pe}),Object(T.jsx)(p.c,{to:"/home",component:ye})]})})};var be=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.units}));return Object(T.jsxs)("span",{onClick:function(){var a;e((a=t===v?V:_,function(e){e({type:a})}))},style:{cursor:"pointer",border:"1px solid black"},className:"p-1 position-absolute top-50 end-0",children:[Object(T.jsx)("span",{className:t===b?"text-muted":"",children:"\xb0C"}),Object(T.jsx)("span",{className:"text-muted",children:" / "}),Object(T.jsx)("span",{className:t===v?"text-muted":"",children:"\xb0F"})]})},ve=a(23);var Oe=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){(function(){var t=Object(h.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:a=t.sent,n=Object(d.a)(a,2),n[0],n[1],e(X((r={city:"Tel Aviv",country:"Israel",id:"215854"}).id,r.city,r.country)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(T.jsxs)(ve.BrowserRouter,{children:[Object(T.jsxs)(m.a,{children:[Object(T.jsx)(w,{}),Object(T.jsx)(fe,{})]}),Object(T.jsx)(be,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe={isLoading:!1,error:"",cities:[]},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(C.a)(Object(C.a)({},e),{},{isLoading:!0});case U:return{isLoading:!1,cities:t.payload,error:""};case P:return{isLoading:!1,weather:[],error:t.payload};case R:return xe;default:return e}},we=a(53),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return[].concat(Object(we.a)(e),[t.payload]);case H:return e.filter((function(e){return e.weather.id!==t.payload.weather.id}));default:return e}},Ie={isLoading:!1,error:"",weather:{}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(C.a)(Object(C.a)({},e),{},{isLoading:!0});case k:return{isLoading:!1,weather:t.payload,error:""};case S:return{isLoading:!1,weather:{},error:t.payload};case M:return{isLoading:!1,weather:t.payload,error:""};default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return v;case V:return b;default:return e}},Ne=Object(c.b)({cityWeather:Ce,favorites:ge,citiesAC:Te,units:Le}),Ee=Object(c.d)(Ne,Object(c.c)(Object(c.a)(s.a)));i.a.render(Object(T.jsx)(o.a,{store:Ee,children:Object(T.jsx)(Oe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[96,1,2]]]);
//# sourceMappingURL=main.5bfe4e33.chunk.js.map